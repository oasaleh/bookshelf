(this.webpackJsonpbookshelf=this.webpackJsonpbookshelf||[]).push([[0],{31:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),o=t(22),a=t.n(o),i=t(10),s=(t(31),t(9)),l=t.n(s),d=t(12),j=t(13),u=t(3),p=t(2),b=t(4),f=t(17),h="https://reactnd-books-api.udacity.com",x=localStorage.token;x||(x=localStorage.token=Math.random().toString(36).substr(-8));var O,g,v,m,k,y,w,S,R,z,B,C,A,T,E,N,I={Accept:"application/json",Authorization:x},J=function(e,n){return fetch("".concat(h,"/books/").concat(e.id),{method:"PUT",headers:Object(f.a)(Object(f.a)({},I),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:n})}).then((function(e){return e.json()}))},L=t(1),M=b.a.div(O||(O=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #616265;\n"]))),P=b.a.button(g||(g=Object(u.a)(["\n  border: 0px solid;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 35px;\n  margin-bottom: 2px;\n  padding-bottom: 0px;\n  padding-top: 0px;\n  background-color: #ffffff;\n  :hover {\n    background-color: #f2f3f4;\n  }\n"]))),W=function(){return Object(L.jsxs)(M,{children:[Object(L.jsx)("h1",{children:"Bookshelf"}),Object(L.jsx)(i.b,{to:"/search",children:Object(L.jsx)(P,{type:"button",children:Object(L.jsx)("span",{children:"\ud83d\udcd8"})})})]})},q=b.a.div(v||(v=Object(u.a)(["\n  padding: 5px;\n  width: 130px;\n  height: 250px;\n"]))),D=b.a.div(m||(m=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 5px 2px;\n"]))),U=b.a.img(k||(k=Object(u.a)(["\n  margin: auto;\n  border-radius: 8px;\n  border: 0.5px solid #e0e0e0;\n"]))),F=b.a.div(y||(y=Object(u.a)(["\n  text-align: center;\n  font-size: 0.75rem;\n  & > * {\n    background-color: #409d69;\n    border-radius: 3px;\n  }\n"]))),G=b.a.p(w||(w=Object(u.a)(["\n  font-size: 0.9rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),H=b.a.p(S||(S=Object(u.a)(["\n  font-size: 0.8rem;\n  color: #616364;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),K=function(e){var n=e.bookInfo,t=e.updateShelf;function r(){return(r=Object(d.a)(l.a.mark((function e(n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,J(n,r.target.value);case 3:e.sent,t();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c="";return n.imageLinks&&n.imageLinks.thumbnail&&(c=n.imageLinks.thumbnail),Object(L.jsxs)(q,{children:[Object(L.jsx)(D,{children:Object(L.jsx)(U,{src:c,alt:"".concat(n.title," Cover")})}),Object(L.jsx)(F,{children:Object(L.jsxs)("select",{value:n.shelf,onChange:function(e){return function(e,n){return r.apply(this,arguments)}(n,e)},children:[Object(L.jsx)("option",{value:"move",disabled:!0,children:"Move to..."}),Object(L.jsx)("option",{value:"none",children:"--None"}),Object(L.jsx)("option",{value:"currentlyReading",children:"Currently Reading"}),Object(L.jsx)("option",{value:"wantToRead",children:"Want to Read"}),Object(L.jsx)("option",{value:"read",children:"Read"})]})}),Object(L.jsx)(G,{children:n.title}),Object(L.jsx)(H,{children:n.authors})]})},Q=b.a.div(R||(R=Object(u.a)(["\n  padding: 10px 50px;\n"]))),V=b.a.div(z||(z=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  font-size: 1.1rem;\n  font-weight: 500;\n  width: fit-content;\n"]))),X=b.a.div(B||(B=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: baseline;\n  gap: 22px;\n  padding: 30px 0px;\n  background-color: #f2f3f4;\n  border-radius: 5px;\n  margin: auto;\n"]))),Y=function(e){var n=e.emoji,t=e.title,r=e.books,c=e.updateShelf;return r||r.length?Object(L.jsxs)(Q,{children:[Object(L.jsxs)(V,{children:[Object(L.jsx)("span",{style:{fontSize:"30px"},children:n}),Object(L.jsx)("h3",{children:t})]}),Object(L.jsx)(X,{id:"tray",children:r.map((function(e){return Object(L.jsx)(K,{bookInfo:e,updateShelf:c},e.id)}))})]}):Object(L.jsx)("div",{children:Object(L.jsx)("p",{children:"No Books!"})})},Z=function(e){var n=e.allBooks,t=(e.setAllBooks,e.updateShelf);return Object(L.jsx)("div",{children:Object(L.jsxs)("div",{children:[Object(L.jsx)(Y,{emoji:"\ud83d\udcd6",title:"Currently Reading",books:n.filter((function(e){return"currentlyReading"===e.shelf})),updateShelf:t}),Object(L.jsx)(Y,{emoji:"\ud83d\udcd5",title:"Want to Read",books:n.filter((function(e){return"wantToRead"===e.shelf})),updateShelf:t}),Object(L.jsx)(Y,{emoji:"\ud83d\udcda",title:"Read",books:n.filter((function(e){return"read"===e.shelf})),updateShelf:t})]})})},$=b.a.div(C||(C=Object(u.a)(["\n  margin: 10px 0 0px 0;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: left;\n  align-items: center;\n"]))),_=b.a.button(A||(A=Object(u.a)(["\n  background-color: transparent;\n  border: 0px solid;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 35px;\n  padding: 0px 10px;\n  margin-right: 10px;\n  :hover {\n    background-color: #f2f3f4;\n  }\n"]))),ee=b.a.div(T||(T=Object(u.a)(["\n  text-align: center;\n  width: 100%;\n  padding-right: 10px;\n  & > input {\n    padding: 6px 5px;\n    font-size: 13px;\n    width: 100%;\n    border: 0.5px solid lightgray;\n    border-radius: 6px;\n  }\n"]))),ne=b.a.div(E||(E=Object(u.a)(["\n  text-align: center;\n"]))),te=function(e){var n=e.allBooks,t=(e.setAllBooks,e.updateShelf),c=Object(r.useState)([]),o=Object(j.a)(c,2),a=o[0],s=o[1],u=Object(r.useState)(""),p=Object(j.a)(u,2),b=p[0],x=p[1];function O(e,n){var t=n;return n.error||n.forEach((function(n){e.forEach((function(e){n.id===e.id&&(t.find((function(n){return n.id===e.id})).shelf=e.shelf)}))})),t}var g=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=b,o=void 0,fetch("".concat(h,"/search"),{method:"POST",headers:Object(f.a)(Object(f.a)({},I),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:c,maxResults:o})}).then((function(e){return e.json()})).then((function(e){return e.books}));case 2:t=e.sent,r=O(n,t),s(r);case 5:case"end":return e.stop()}var c,o}),e)}))),[b]);return Object(r.useEffect)((function(){b&&g()}),[b]),Object(L.jsxs)("div",{children:[Object(L.jsxs)($,{children:[Object(L.jsx)(i.b,{style:{width:"fit-content"},to:"/",children:Object(L.jsx)(_,{type:"button",children:"\ud83d\udd19"})}),Object(L.jsx)(ee,{children:Object(L.jsx)("input",{type:"text",value:b,onChange:function(e){return function(e){x(e.target.value)}(e)},placeholder:"Search by title or author \ud83d\udd0d"})})]}),Object(L.jsx)(ne,{children:a.error?Object(L.jsxs)("p",{children:["Sorry, I couldn't find a match.",Object(L.jsx)("span",{style:{fontSize:"30px"},children:" \ud83d\ude25"})]}):""===b?Object(L.jsxs)("p",{children:["Are you sure you typed something?",Object(L.jsx)("span",{style:{fontSize:"30px"},children:" \ud83e\udd14"})]}):Object(L.jsx)(Y,{title:"Search Results",books:a,updateShelf:t,emoji:"\ud83d\udd0d"})})]})},re=b.a.div(N||(N=Object(u.a)(["\n  padding: 25px 40px;\n  max-width: 900px;\n  margin: auto;\n"])));var ce=function(){var e=Object(r.useState)(!0),n=Object(j.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)([]),a=Object(j.a)(o,2),i=a[0],s=a[1],u=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/books"),{headers:I}).then((function(e){return e.json()})).then((function(e){return e.books}));case 2:n=e.sent,s(n),c(!1);case 5:case"end":return e.stop()}}),e)}))),[]);function b(){u()}return Object(r.useEffect)((function(){u()}),[]),Object(L.jsxs)(re,{className:"App",children:[Object(L.jsx)(W,{}),Object(L.jsx)("div",{children:t?null:Object(L.jsxs)(p.c,{children:[Object(L.jsx)(p.a,{exact:!0,path:"/",children:Object(L.jsx)(Z,{allBooks:i,setAllBooks:s,updateShelf:b})}),Object(L.jsx)(p.a,{exact:!0,path:"/search",children:Object(L.jsx)(te,{allBooks:i,setAllBooks:s,updateShelf:b})})]})})]})};a.a.render(Object(L.jsx)(i.a,{children:Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(ce,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8b9840a3.chunk.js.map